###################################
## General variables
####################################
# openstack_auth_url:    THIS IS A VAULTED VARIABLE
# openstack_username:    THIS IS A VAULTED VARIABLE
# openstack_user_passwd: THIS IS A VAULTED VARIABLE
openstack_project_name: admin
openstack_project_domain_name: Default
openstack_user_domain_name: Default

####################################
# Tenant centric auth settings
####################################
# openstack_tenant_auth_username: THIS IS A VAULTED VARIABLE
# openstack_tenant_auth_passwd:   THIS IS A VAULTED VARIABLE

##############################
# Project and Users 
##############################
create_openstack_projects: true
create_openstack_role_assignments: true
create_project_security_group: true
create_project_security_group_rules: true
# in this example: domain_id: voltron  is a Keystone
# domain with ldap authentication.
#
osp_projects:
  - name: voltron_development
    project_domain: acanorex
    user_domain: acanorex
    role_assignment:
      user_name: arlaporte
      project_role: admin
    quotas:
      total_instances: 10
      total_cores: -1
      total_ram_mb: -1
      total_disk_gb: -1
      total_volumes: 100
    bootstrap_sg_name: allow_ssh_icmp
    bootstrap_sg_rules:
      - parent_sec_group: allow_ssh_icmp
        direction: ingress
        source_network: 0.0.0.0/0
        port_range_min: 22
        port_range_max: 22
        protocol: tcp
        ethertype: IPv4
      - parent_sec_group: allow_ssh_icmp
        direction: ingress
        source_network: 0.0.0.0/0
        port_range_min: -1
        port_range_max: -1
        protocol: icmp
        ethertype: IPv4
  - name: ultraman_engineering
    project_domain: acanorex
    user_domain: acanorex
    role_assignment:
      user_name: arlaporte
      project_role: admin
    quotas:
      total_instances: 10
      total_cores: -1
      total_ram_mb: -1
      total_disk_gb: -1
      total_volumes: 100
    bootstrap_sg_name: allow_ssh_icmp
    bootstrap_sg_rules:
      - parent_sec_group: allow_ssh_icmp
        direction: ingress
        source_network: 0.0.0.0/0
        port_range_min: 22
        port_range_max: 22
        protocol: tcp
        ethertype: IPv4
      - parent_sec_group: allow_ssh_icmp
        direction: ingress
        source_network: 0.0.0.0/0
        port_range_min: -1
        port_range_max: -1
        protocol: icmp
        ethertype: IPv4
  - name: rangers_assembly
    project_domain: acanorex
    user_domain: acanorex
    role_assignment:
      user_name: arlaporte
      project_role: admin
    quotas:
      total_instances: 10
      total_cores: -1
      total_ram_mb: -1
      total_disk_gb: -1
      total_volumes: 100
    bootstrap_sg_name: allow_ssh_icmp
    bootstrap_sg_rules:
      - parent_sec_group: allow_ssh_icmp
        direction: ingress
        source_network: 0.0.0.0/0
        port_range_min: 22
        port_range_max: 22
        protocol: tcp
        ethertype: IPv4
      - parent_sec_group: allow_ssh_icmp
        direction: ingress
        source_network: 0.0.0.0/0
        port_range_min: -1
        port_range_max: -1
        protocol: icmp
        ethertype: IPv4

##############################
# Networks, Subnets and Routers
##############################
create_tenant_networks: false
osp_tenant_networks:
  - net_name: "{{ osp_projects.0.name }}_tenant_net"
    network_project_owner: "{{ osp_projects.0.name }}"
    net_external: false
    net_is_shared: false
    provider_network_type: geneve
    subnets:
      subnet_name: "{{ osp_projects.0.name }}_tenant_subnet"
      subnet_enable_dhcp: true
      subnet_cidr: 10.254.1.0/24
      subnet_gateway: 10.254.1.1
      subnet_dhcp_start: 10.254.1.10
      subnet_dhcp_end: 10.254.1.254
      dns_1: 172.25.49.253
      dns_2: 172.25.49.254

create_neutron_routers: false
osp_neutron_routers:
  - router_name: "{{ osp_projects.0.name }}_external_router"
    router_project_owner: "{{ osp_projects.0.name }}"
    router_gateway_network: external_shared_net
    router_private_subnet_interface: "{{ osp_projects.0.name }}_tenant_subnet"

